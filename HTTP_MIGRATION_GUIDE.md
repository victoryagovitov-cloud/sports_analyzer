# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ø–µ—Ä–µ—Ö–æ–¥—É –Ω–∞ HTTP-–∑–∞–ø—Ä–æ—Å—ã

## –û–±–∑–æ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π

–°–∏—Å—Ç–µ–º–∞ –±—ã–ª–∞ —É—Å–ø–µ—à–Ω–æ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å HTTP-–∑–∞–ø—Ä–æ—Å–∞–º–∏ –≤–º–µ—Å—Ç–æ Browser MCP. –¢–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø—Ä—è–º—ã–µ HTTP-–∑–∞–ø—Ä–æ—Å—ã –∫ —Å–∞–π—Ç–∞–º –±—É–∫–º–µ–∫–µ—Ä–æ–≤.

## –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

### 1. –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã
- `http_controller.py` - HTTP-–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –¥–ª—è —Ä–µ–∞–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- `http_controller_demo.py` - –î–µ–º–æ-–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- `test_http_controller.py` - –¢–µ—Å—Ç—ã HTTP-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

### 2. –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- `main.py` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç HTTPControllerDemo –≤–º–µ—Å—Ç–æ BrowserController
- `config.py` - –¥–æ–±–∞–≤–ª–µ–Ω—ã URL –¥–ª—è HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤
- –í—Å–µ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å HTTP-–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–º

## –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

### ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
- –°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞ —Å –¥–µ–º–æ-–¥–∞–Ω–Ω—ã–º–∏
- –í—Å–µ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –¶–∏–∫–ª–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ —Ä–∞–±–æ—Ç–∞–µ—Ç

### ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- –°–µ–ª–µ–∫—Ç–æ—Ä—ã –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö —Å–∞–π—Ç–æ–≤
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞—â–∏—Ç—ã –æ—Ç –±–æ—Ç–æ–≤ (Cloudflare, QRATOR)
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ User-Agent –∏ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤

## –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

### –®–∞–≥ 1: –ê–Ω–∞–ª–∏–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å–∞–π—Ç–æ–≤

–î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–∞–π—Ç–∞ –Ω—É–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã:

```python
# –ü—Ä–∏–º–µ—Ä –¥–ª—è betboom.ru
selectors = {
    'match_container': '.event-item, .match-item, .sport-event',
    'team_names': '.team-name, .participant-name, .competitor-name',
    'score': '.score, .result, .current-score',
    'minute': '.minute, .time, .match-time',
    'coefficient': '.coefficient, .odds, .bet-value',
    'locked': '.locked, .disabled, .unavailable',
    'league': '.league, .tournament, .competition'
}
```

### –®–∞–≥ 2: –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞—â–∏—Ç—ã

–î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∑–∞—â–∏—Ç—ã:

```python
# Cloudflare
if 'cloudflare' in response.headers.get('server', '').lower():
    # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å selenium –∏–ª–∏ undetected-chromedriver
    
# QRATOR
if 'qrator' in response.headers.get('server', '').lower():
    # –î–æ–±–∞–≤–∏—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏
```

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ User-Agent

```python
session.headers.update({
    'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36',
    'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8',
    'Accept-Language': 'ru-RU,ru;q=0.9,en;q=0.8',
    'Accept-Encoding': 'gzip, deflate, br',
    'Connection': 'keep-alive',
    'Upgrade-Insecure-Requests': '1',
    'Sec-Fetch-Dest': 'document',
    'Sec-Fetch-Mode': 'navigate',
    'Sec-Fetch-Site': 'none',
    'Cache-Control': 'max-age=0'
})
```

### –®–∞–≥ 4: –û–±—Ä–∞–±–æ—Ç–∫–∞ JavaScript

–ï—Å–ª–∏ —Å–∞–π—Ç—ã —Ç—Ä–µ–±—É—é—Ç JavaScript:

```python
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å selenium
from selenium import webdriver
from selenium.webdriver.chrome.options import Options

def get_page_with_selenium(url):
    options = Options()
    options.add_argument('--headless')
    options.add_argument('--no-sandbox')
    options.add_argument('--disable-dev-shm-usage')
    
    driver = webdriver.Chrome(options=options)
    driver.get(url)
    html = driver.page_source
    driver.quit()
    return html
```

## –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Å–∞–π—Ç—ã –¥–ª—è –Ω–∞—á–∞–ª–∞

### 1. Winline.ru ü•á
- ‚úÖ –ú–µ–Ω–µ–µ —Å—Ç—Ä–æ–≥–∞—è –∑–∞—â–∏—Ç–∞ QRATOR
- ‚úÖ –ï—Å—Ç—å live-—Å—Å—ã–ª–∫–∏ –≤ HTML
- ‚úÖ –•–æ—Ä–æ—à–∞—è SEO-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

### 2. Betboom.ru ü•à
- ‚úÖ –î–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ HTTP
- ‚ö†Ô∏è Cloudflare –∑–∞—â–∏—Ç–∞
- ‚úÖ –ú–Ω–æ–≥–æ live-–∫–æ–Ω—Ç–µ–Ω—Ç–∞

### 3. Baltbet.ru ü•â
- ‚úÖ –ú–µ–Ω–µ–µ –∑–∞—â–∏—â–µ–Ω
- ‚ö†Ô∏è –ú–µ–Ω—å—à–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- ‚úÖ –ü—Ä–æ—Å—Ç–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

## –ü–æ—à–∞–≥–æ–≤–∞—è –º–∏–≥—Ä–∞—Ü–∏—è

### –≠—Ç–∞–ø 1: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
```bash
python3 test_http_controller.py
```

### –≠—Ç–∞–ø 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤
1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å–∞–π—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –ù–∞–π–¥–∏—Ç–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Å –º–∞—Ç—á–∞–º–∏
3. –û–±–Ω–æ–≤–∏—Ç–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã –≤ `http_controller.py`
4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ø–∞—Ä—Å–∏–Ω–≥

### –≠—Ç–∞–ø 3: –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞—â–∏—Ç—ã
1. –î–æ–±–∞–≤—å—Ç–µ –æ–±—Ä–∞–±–æ—Ç–∫—É Cloudflare/QRATOR
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ User-Agent
3. –î–æ–±–∞–≤—å—Ç–µ –∑–∞–¥–µ—Ä–∂–∫–∏ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏

### –≠—Ç–∞–ø 4: –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
1. –ó–∞–º–µ–Ω–∏—Ç–µ `HTTPControllerDemo` –Ω–∞ `HTTPController`
2. –û–±–Ω–æ–≤–∏—Ç–µ `main.py`
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ø–æ–ª–Ω—É—é —Å–∏—Å—Ç–µ–º—É

## –ü—Ä–∏–º–µ—Ä—ã —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤

### Betboom.ru
```python
selectors = {
    'match_container': '.sport-event-item, .event-card',
    'team_names': '.team-name, .participant-name',
    'score': '.score, .current-score',
    'minute': '.minute, .match-time',
    'coefficient': '.coefficient, .odds-value',
    'locked': '.locked, .disabled',
    'league': '.league-name, .tournament'
}
```

### Winline.ru
```python
selectors = {
    'match_container': '.event-item, .match-card',
    'team_names': '.team-name, .participant',
    'score': '.score, .result',
    'minute': '.minute, .time',
    'coefficient': '.coefficient, .odds',
    'locked': '.locked, .disabled',
    'league': '.league, .tournament'
}
```

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ—Ç–ª–∞–¥–∫–∞

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤
```python
import logging
logging.basicConfig(level=logging.DEBUG)
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤
```python
def debug_response(response):
    print(f"Status: {response.status_code}")
    print(f"Headers: {dict(response.headers)}")
    print(f"Content length: {len(response.text)}")
```

### –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ HTML –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
```python
with open(f'debug_{site}_{sport}.html', 'w', encoding='utf-8') as f:
    f.write(response.text)
```

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–ù–∞—á–Ω–∏—Ç–µ —Å Winline.ru** - –Ω–∞–∏–º–µ–Ω–µ–µ –∑–∞—â–∏—â–µ–Ω–Ω—ã–π
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∑–∞–¥–µ—Ä–∂–∫–∏** –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏ (1-2 —Å–µ–∫—É–Ω–¥—ã)
3. **–†–æ—Ç–∏—Ä—É–π—Ç–µ User-Agent** –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫
4. **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –ª–æ–≥–∏** –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç –æ—à–∏–±–æ–∫
5. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Ä–µ–≥—É–ª—è—Ä–Ω–æ** - —Å–∞–π—Ç—ã –º–æ–≥—É—Ç –∏–∑–º–µ–Ω–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ —Å HTTP-–∑–∞–ø—Ä–æ—Å–∞–º–∏. –û—Å–Ω–æ–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –∑–∞—â–∏—Ç—ã —Å–∞–π—Ç–æ–≤. –î–µ–º–æ-–≤–µ—Ä—Å–∏—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å—é –ª–æ–≥–∏–∫—É –∞–Ω–∞–ª–∏–∑–∞ –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–µ–∞–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤.